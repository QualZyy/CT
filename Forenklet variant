#include <stdio.h>
#include <string.h>
#include <stdlib.h>

struct person{
    char name [50];
    int roomNumber;
    int infected;                //POSITIV (1) - NEGATIV (0)
};

void printDatabase(char s);
void appendToFile (char s[100]);

int main(){
    int exit = 0;
    while(!exit) {
        printf("\n\n\n-*-*-*-*-   CoronaTracker (CT)   -*-*-*-*-\n");
        printf("Enter corresponding number to what you want to do\n1.Register ");
        printf("new person\n2.Delete person\n3.Register infections\n4.Write to file\n5.Read from file");
        printf("\n6.Print Whole Database\n7.Who is infected?\n8.Who needs quaratine?\n9.Exit\n");

        int option;
        scanf("%i", &option);

        switch(option) {
            case 1: //Register new person
               
                break;

            case 2: //Delete person

                break;

            case 3: //Register contamination

                break;

            case 4: //Write to file
            
                appendToFile("Hallo");
                
                break;

            case 5: //Read from file

                break;

            case 6: //Print database
            
                 printDatabase('s');

                break;

            case 7:  //Who is infected
                

                break;
            
             case 8: //Close relations

                break;
            
             case 9:
                exit = 1;
                break;
            
            case 69:
                printf("Nice");
                break;

            default:
                printf("wtf");
                break;
        }
    }
    return 0;
}

void printDatabase(char s){

    printf("Name, Infected, Roomnumber\n");
    printf("-----|---------|-----------\n");

    FILE *f;
    f = fopen("Liste.txt", "r");

    s = fgetc(f);
    while(s != EOF){
        printf("%c",s);
        s = fgetc(f);
    }
    fclose(f);
}

void appendToFile (char s[100]){
    FILE *f;

    printf("Enter name, infection state 1 = Inefected and 0 = Not intfected. Enter it with this format:\n");
    printf("name,infection,roomnumber");
    gets(s); //DENNE CRASHER PROGRAMMET

    f = fopen("Liste.txt", "a");
    fputs(s,f);
    
    fclose(f);
}

